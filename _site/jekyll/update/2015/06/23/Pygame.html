<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Party with Pygame</title>
  <meta name="description" content="VideoGece uykusu kaçınca ne yapar insan?Tabiki Pygame ile party yapar. Pygame Python&#39;un oyun kütüphanesi. Şuradan inceleyebilirsiniz. Pygame ile yapılmış...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://yourdomain.com/jekyll/update/2015/06/23/Pygame.html">
  <link rel="alternate" type="application/rss+xml" title="Ada Karcı" href="http://yourdomain.com/feed.xml" />
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Ada Karcı</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Party with Pygame</h1>
    <p class="post-meta">Jun 23, 2015</p>
  </header>

  <article class="post-content">
    <p><img src="/assets/party.png" /><p>
<a href="https://vimeo.com/127133505">Video</a><p>
Gece uykusu kaçınca ne yapar insan?Tabiki Pygame ile party yapar. Pygame Python&#39;un oyun kütüphanesi. Şuradan inceleyebilirsiniz. Pygame ile yapılmış oyunlardaki kodları okurken bazılarını kendi sahneme ekleyerek açıklamak istedim. Örneğin rotate ve ışıkların sürekli yanıp sönmesi için gereken kodu bir pygame uygulamasından aldım. Mantığını kavrayıp anlatmaya çalıştım. Kodun tamamı <a href="https://github.com/adakarci/some-pygame">burada</a>
Öncelikle müzik notamız için Surface alanı oluşturuyoruz. İşlemlerimiz bu surface nesnesi üzerinde yapılacak.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">musicnota</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="mi">850</span><span class="p">,</span> <span class="mi">550</span><span class="p">))</span><span class="o">.</span><span class="n">convert_alpha</span><span class="p">()</span>
<span class="n">musicnota</span><span class="o">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span></code></pre></div>

<p>Daha sonra istediğimiz anda ortaya çıkması için müzik notasını çizen bir fonksiyon oluştururuz.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">drawmusic</span><span class="p">():</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">ellipse</span><span class="p">(</span><span class="n">musicnota</span><span class="p">,</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">231</span><span class="p">,</span> <span class="mi">186</span><span class="p">),</span> <span class="p">(</span><span class="mi">785</span><span class="p">,</span> <span class="mi">405</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">ellipse</span><span class="p">(</span><span class="n">musicnota</span><span class="p">,</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">231</span><span class="p">,</span> <span class="mi">186</span><span class="p">),</span> <span class="p">(</span><span class="mi">760</span><span class="p">,</span> <span class="mi">410</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">musicnota</span><span class="p">,</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">231</span><span class="p">,</span> <span class="mi">186</span><span class="p">),</span> <span class="p">(</span><span class="mi">778</span><span class="p">,</span> <span class="mi">390</span><span class="p">),</span> <span class="p">(</span><span class="mi">778</span><span class="p">,</span> <span class="mi">415</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">musicnota</span><span class="p">,</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">231</span><span class="p">,</span> <span class="mi">186</span><span class="p">),</span> <span class="p">(</span><span class="mi">804</span><span class="p">,</span> <span class="mi">380</span><span class="p">),</span> <span class="p">(</span><span class="mi">804</span><span class="p">,</span> <span class="mi">410</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">musicnota</span><span class="p">,</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">231</span><span class="p">,</span> <span class="mi">186</span><span class="p">),</span> <span class="p">(</span><span class="mi">778</span><span class="p">,</span> <span class="mi">390</span><span class="p">),</span> <span class="p">(</span><span class="mi">805</span><span class="p">,</span> <span class="mi">380</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span></code></pre></div>

<p>Müzik notasının hareket etmesi için blit kodunu kullanırken y koordinatının hareketli olması için değişken kullanırız.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">musicnota</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span></code></pre></div>

<p>Müzik notamızın belirtilen yüksekliğe çıkarak tekrar başa dönmesi için yazılan kod:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">if</span> <span class="n">y</span> <span class="o">==</span> <span class="o">-</span><span class="mi">300</span><span class="p">:</span>
    <span class="n">y</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">y</span> <span class="o">-=</span> <span class="mi">1</span></code></pre></div>

<p>Şimdi yanıp sönen ışıkları yapalım:
Önce ışıklar için surface nesnesi oluşturalım ve işlemlerimiz burada gerçekleşsin.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">updatedLights</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="mi">850</span><span class="p">,</span> <span class="mi">550</span><span class="p">))</span><span class="o">.</span><span class="n">convert_alpha</span><span class="p">()</span>
<span class="n">updatedLights</span><span class="o">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span></code></pre></div>

<p>Verilen surface nesnesi ve pozisyonu parametre olarak alıp ışık çizen bir fonksiyon oluşturalım.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">lights</span> <span class="o">=</span> <span class="o">[]</span>
<span class="k">def</span> <span class="nf">render_light</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span> <span class="n">pos</span><span class="p">):</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span> <span class="n">pygame</span><span class="o">.</span><span class="n">color</span><span class="o">.</span><span class="n">THECOLORS</span><span class="o">[</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">color</span><span class="o">.</span><span class="n">THECOLORS</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="o">]</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span></code></pre></div>

<p>Şimdi kaç tane ışık çizeceksek o kadar sayıda çağıracağımız fonksiyonu oluşturalım.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">draw_a_light</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span> <span class="n">pos</span><span class="p">):</span>
    <span class="n">global</span> <span class="n">lights</span>
    <span class="n">render_light</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span> <span class="n">pos</span><span class="p">)</span>
    <span class="n">lights</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>
<span class="n">draw_a_light</span><span class="p">(</span><span class="n">background</span><span class="p">,</span> <span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="n">draw_a_light</span><span class="p">(</span><span class="n">background</span><span class="p">,</span> <span class="p">(</span><span class="mi">130</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="n">draw_a_light</span><span class="p">(</span><span class="n">background</span><span class="p">,</span> <span class="p">(</span><span class="mi">230</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="n">draw_a_light</span><span class="p">(</span><span class="n">background</span><span class="p">,</span> <span class="p">(</span><span class="mi">330</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="n">draw_a_light</span><span class="p">(</span><span class="n">background</span><span class="p">,</span> <span class="p">(</span><span class="mi">430</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="n">draw_a_light</span><span class="p">(</span><span class="n">background</span><span class="p">,</span> <span class="p">(</span><span class="mi">530</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="n">draw_a_light</span><span class="p">(</span><span class="n">background</span><span class="p">,</span> <span class="p">(</span><span class="mi">630</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="n">draw_a_light</span><span class="p">(</span><span class="n">background</span><span class="p">,</span> <span class="p">(</span><span class="mi">730</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="n">draw_a_light</span><span class="p">(</span><span class="n">background</span><span class="p">,</span> <span class="p">(</span><span class="mi">830</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span></code></pre></div>

<p>Daha sonra bu ışıkların renginin sürekli değişmesi için render_light fonksiyonunu verilen pozisyonlarda çağıran fonksiyonu oluşturalım.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">update_lights</span><span class="p">():</span>
    <span class="n">global</span> <span class="n">updatedLights</span><span class="p">,</span> <span class="n">lights</span>
    <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="ss">lights</span><span class="p">:</span>
        <span class="n">render_light</span><span class="p">(</span><span class="n">updatedLights</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span></code></pre></div>

<p>Son olarak while true: döngüsünün içinde update_ligths() fonksiyonun sürekli çağrılmasını sağlayalım.</p>

<p>Party çocuklarının kollarının nasıl döndüğünü açıklayalım: Öncelikle kol ve biranın çizileceği alan için bir surface nesnesi oluşturuyoruz. Daha sonra bu surface nesnesini kullanarak kol ve birayı çiziyoruz. Arm1Area isminde bir Rect nesnesi oluşturuyoruz.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Arm1</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="mi">850</span><span class="p">,</span> <span class="mi">550</span><span class="p">))</span><span class="o">.</span><span class="n">convert_alpha</span><span class="p">()</span>
<span class="no">Arm1</span><span class="o">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="c1">#rigtharm</span>
<span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="no">Arm1</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="mi">310</span><span class="p">),</span> <span class="p">(</span><span class="mi">240</span><span class="p">,</span> <span class="mi">310</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>
<span class="c1">#beer</span>
<span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">polygon</span><span class="p">(</span><span class="no">Arm1</span><span class="p">,</span> <span class="p">(</span><span class="mi">73</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">((</span>
<span class="mi">230</span><span class="p">,</span> <span class="mi">320</span><span class="p">),</span> <span class="p">(</span><span class="mi">230</span><span class="p">,</span> <span class="mi">300</span><span class="p">),</span> <span class="p">(</span><span class="mi">220</span><span class="p">,</span> <span class="mi">300</span><span class="p">),</span> <span class="p">(</span><span class="mi">220</span><span class="p">,</span> <span class="mi">320</span><span class="p">)))</span>
<span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">polygon</span><span class="p">(</span><span class="no">Arm1</span><span class="p">,</span> <span class="p">(</span><span class="mi">73</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">((</span>
<span class="mi">240</span><span class="p">,</span> <span class="mi">388</span><span class="p">),</span> <span class="p">(</span><span class="mi">240</span><span class="p">,</span> <span class="mi">320</span><span class="p">),</span> <span class="p">(</span><span class="mi">210</span><span class="p">,</span> <span class="mi">320</span><span class="p">),</span> <span class="p">(</span><span class="mi">210</span><span class="p">,</span> <span class="mi">388</span><span class="p">)))</span>
<span class="no">Arm1Area</span> <span class="o">=</span> <span class="no">Arm1</span><span class="o">.</span><span class="n">subsurface</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">((</span><span class="mi">125</span><span class="p">,</span> <span class="mi">250</span><span class="p">),</span> <span class="p">(</span><span class="mi">110</span><span class="p">,</span> <span class="mi">110</span><span class="p">)))</span></code></pre></div>

<p>Daha sonra kolun dönmesini sağlayan rotate modulunu kullanıyoruz.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">rotatedArm</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span>
<span class="no">Arm1Area</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">counter</span><span class="o">/</span><span class="mi">5</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span><span class="o">*</span><span class="mi">15</span><span class="p">)</span></code></pre></div>

<p>Burada neden rotate açısını math.sin(counter/5.0)*15 olarak kodladığını sormak isteyebilirsiniz. 1&#39;den 30&#39;a kadar olan sayıların sin değerini yazdırırsanız - ve + sayıların ard arda geldiğini göreceksiniz. Kolun bir yukarı bir aşağı hareket etmesi için döndürme yönü - ve + olmalıdır. Kolun koordinatlarını alarak her zaman aynı merkezde kalmasını sağlıyoruz.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">rotArmRect</span> <span class="o">=</span> <span class="n">rotatedArm</span><span class="o">.</span><span class="n">get_rect</span><span class="p">()</span>
<span class="n">rotArmRect</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="p">(</span><span class="mi">154</span><span class="p">,</span> <span class="mi">295</span><span class="p">)</span>
<span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">rotatedArm</span><span class="p">,</span> <span class="n">rotArmRect</span><span class="p">)</span></code></pre></div>

  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Ada Karcı</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li></li>
          <li><a href="mailto:karci.ada@gmail.com">karci.ada@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/adakarci">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">adakarci</span>
            </a>
          </li>
          

          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">I'm Ada.. I'm writing about Computer Software(learning) and aliens. The point is building a time machine. Alien is just a joke, I have definitely no idea about aliens.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
